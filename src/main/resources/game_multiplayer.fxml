<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<?import javafx.scene.image.ImageView?>
<?import javafx.scene.shape.Rectangle?>


<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.bolara.uno_client.controller.GameUIMultiplayerController">
    <Region fx:id="backgroundRegion" styleClass="background-image"/>

    <BorderPane id="gameLayout">

        <!-- Top: Back button + top hand -->
        <top>
            <VBox spacing="10">
                <HBox>
                    <Button text="Back to Menu"
                            onAction="#handleBackToMenu"
                            styleClass="button-game"
                            maxWidth="150" />
                </HBox>
                <VBox alignment="CENTER" spacing="20" styleClass="border">
                    <Label  fx:id="topNameLabel" styleClass="player-name"/>
                    <HBox fx:id="topHand" spacing="1" alignment="CENTER" styleClass="cpu-top"/>
                    <HBox alignment="CENTER" spacing="10">
                        <Button fx:id="topCallUnoButton" text="Say UNO!" onAction="#handleCallUno" visible="false" styleClass="button-uno" />
                        <Button fx:id="topChallengeButton" text="Challenge" onAction="#handleChallengeDrawFour" visible="false" styleClass="button-challenge"/>
                    </HBox>
                    <Label fx:id="topUnoLabel" text="UNO!" visible="false" styleClass="uno-label"/>
                </VBox>
            </VBox>
        </top>

        <bottom>
            <VBox alignment="CENTER" spacing="20" styleClass="border">
                <Label fx:id="bottomUnoLabel" text="UNO!" visible="false" styleClass="uno-label"/>
                <HBox alignment="CENTER" spacing="10">
                    <Button fx:id="bottomCallUnoButton" text="Say UNO!" onAction="#handleCallUno" visible="true" styleClass="button-uno" />
                    <Button fx:id="bottomChallengeButton" text="Challenge" onAction="#handleChallengeDrawFour" visible="true" styleClass="button-challenge"/>
                </HBox>
                <HBox fx:id="bottomHand" spacing="1" alignment="CENTER" styleClass="player-hand" />
                <Label fx:id="bottomNameLabel" text="You" styleClass="player-name"/>
                <!-- Spacer to add gap below -->
                <Region minHeight="10" />
            </VBox>

        </bottom>

        <left>
            <HBox alignment="CENTER" spacing="20" styleClass="border">
                <VBox alignment="CENTER" spacing="5">
                    <Button fx:id="leftCallUnoButton" text="Say UNO!" onAction="#handleCallUno" visible="true" styleClass="button-uno" />
                    <Button fx:id="leftChallengeButton" text="Challenge" onAction="#handleChallengeDrawFour" visible="true" styleClass="button-challenge"/>
                </VBox>
                <Label fx:id="leftNameLabel" styleClass="player-name"/>
                <VBox fx:id="leftHand" spacing="-35" alignment="CENTER" styleClass="cpu-left" />
                <Label fx:id="leftUnoLabel" text="UNO!" visible="false" styleClass="uno-label"/>
            </HBox>
        </left>

        <right>
            <HBox alignment="CENTER" spacing="20" styleClass="border">
                <VBox alignment="CENTER" spacing="5">
                    <Button fx:id="rightCallUnoButton" text="Say UNO!" onAction="#handleCallUno" visible="false" styleClass="button-uno" />
                    <Button fx:id="rightChallengeButton" text="Challenge" onAction="#handleChallengeDrawFour" visible="false" styleClass="button-challenge"/>
                </VBox>
                <Label fx:id="rightUnoLabel" text="UNO!" visible="false" styleClass="uno-label"/>
                <VBox fx:id="rightHand" spacing="-35" alignment="CENTER" styleClass="cpu-right"/>
                <Label fx:id="rightNameLabel" text="Computer 3" styleClass="player-name"/>
            </HBox>
        </right>

        <center>
            <VBox alignment="CENTER" spacing="20" styleClass="border">
                <HBox alignment="CENTER" spacing="20">
                    <ImageView fx:id="directionArrow" fitWidth="80" preserveRatio="true"/>
                    <Rectangle fx:id="currentColorBox" width="40" height="40" arcWidth="10" arcHeight="10" stroke="black"/>
                </HBox>
                <HBox alignment="CENTER" spacing="40">
                    <ImageView fx:id="deckImage" onMouseClicked="#handleDrawCard" styleClass="image-view-clickable" fitWidth="100" preserveRatio="true"/>
                    <ImageView fx:id="topCardImage" fitHeight="110" preserveRatio="true"/>
                </HBox>

            </VBox>
        </center>

    </BorderPane>
</StackPane>

